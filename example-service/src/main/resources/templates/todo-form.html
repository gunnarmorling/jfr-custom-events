<div class="modalenabled">
  <form action="/todo/{#if update}{todo.id}/edit{#else}new{/if}" method="POST" name="todoForm" up-target=".container" enctype="multipart/form-data">
    <div class="form-row align-items-center">
      <div class="col-sm-3 my-1">
        <label class="sr-only" for="title">Title</label>
        <input type="text" name="title" class="form-control" id="title" placeholder="Title" required autofocus {#if update}value="{todo.title}"{/if}>
      </div>

      <div class="col-auto my-1">
        <select class="custom-select"  name="priority">
          <option disabled value="">Priority</option>
          {#for prio in priorities}
          <option value="{prio}" {#if todo.priority == prio}selected{/if}>{prio}</option>
          {/for}
        </select>
      </div>

      {#if update}
      <div class="col-auto my-1">
        <div class="form-check">
          <input type="checkbox" name="completed" class="form-check-input" id="completed" {#if update}{#if todo.completed}checked{/if}{/if}>
          <label class="form-check-label" for="completed">Completed</label>
        </div>
      </div>
      {/if}

      <button type="submit" class="btn btn-primary">{#if update}Update{#else}Create{/if}</button>
    </div>
  </form>
</div>